<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Training MNIST Models</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        background-color: #f5f5f5;
        color: #333;
        max-width: 1000px;
        margin: 0 auto;
      }
      h1,
      h2,
      h3 {
        color: #2c3e50;
      }
      h1 {
        text-align: center;
        margin-bottom: 30px;
      }
      .container {
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      pre {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
        border-left: 4px solid #3498db;
      }
      code {
        font-family: "Courier New", monospace;
      }
      .step {
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 1px solid #eee;
      }
      .step:last-child {
        border-bottom: none;
      }
      .note {
        background-color: #eaf2f8;
        padding: 15px;
        border-radius: 5px;
        border-left: 5px solid #3498db;
        margin: 15px 0;
      }
      .warning {
        background-color: #fef9e7;
        padding: 15px;
        border-radius: 5px;
        border-left: 5px solid #f1c40f;
        margin: 15px 0;
      }
      a {
        color: #3498db;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      .back-link {
        display: inline-block;
        margin-top: 20px;
      }
      .model-comparison {
        margin: 20px 0;
        border-collapse: collapse;
        width: 100%;
      }
      .model-comparison th,
      .model-comparison td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }
      .model-comparison th {
        background-color: #f2f2f2;
      }
      .model-comparison tr:nth-child(even) {
        background-color: #f9f9f9;
      }
    </style>
  </head>
  <body>
    <h1>Training MNIST Handwriting Recognition Models</h1>

    <div class="container">
      <div class="step">
        <h2>Step 1: Install Dependencies</h2>
        <p>Make sure you have all the required dependencies installed:</p>
        <pre><code>pip install -r requirements.txt</code></pre>
      </div>

      <div class="step">
        <h2>Step 2: Choose and Train a Model</h2>
        <p>
          The application supports multiple model architectures. You can choose
          which one to train:
        </p>

        <h3>Available Models</h3>
        <table class="model-comparison">
          <tr>
            <th>Model Type</th>
            <th>Description</th>
            <th>Training Time</th>
            <th>Accuracy</th>
          </tr>
          <tr>
            <td>Simple</td>
            <td>Feedforward neural network with one hidden layer</td>
            <td>Fast (seconds)</td>
            <td>~95-97%</td>
          </tr>
          <tr>
            <td>CNN</td>
            <td>Convolutional Neural Network with 2 conv layers</td>
            <td>Moderate (minutes)</td>
            <td>~98-99%</td>
          </tr>
        </table>

        <h3>Training Commands</h3>
        <p>To train the CNN model (recommended for higher accuracy):</p>
        <pre><code>python train.py --model cnn</code></pre>

        <p>To train the simple model (faster training):</p>
        <pre><code>python train.py --model simple</code></pre>

        <p>You can also specify the number of epochs and batch size:</p>
        <pre><code>python train.py --model cnn --epochs 20 --batch-size 64</code></pre>

        <p>This will:</p>
        <ul>
          <li>Download the MNIST dataset (if not already downloaded)</li>
          <li>Preprocess the data for the selected model</li>
          <li>Create and train the model</li>
          <li>Save the trained model to the models directory</li>
        </ul>

        <div class="note">
          <p>
            <strong>Note:</strong> The training time depends on the model type
            and your hardware. The CNN model takes longer to train but generally
            achieves higher accuracy.
          </p>
        </div>
      </div>

      <div class="step">
        <h2>Step 3: Use the Web Application</h2>
        <p>
          Once at least one model is trained, you can use the web application to
          draw digits and get predictions:
        </p>
        <pre><code>python app.py</code></pre>
        <p>
          Then open your browser and navigate to:
          <a href="http://localhost:8080">http://localhost:8080</a>
        </p>
        <p>
          You can switch between different trained models in the web interface
          to compare their performance.
        </p>
      </div>

      <div class="step">
        <h2>Step 4: Test the Models (Optional)</h2>
        <p>You can test the trained models using the test script:</p>
        <pre><code>python tests/test_mnist_models.py --model cnn --visualize</code></pre>
        <p>
          This will evaluate the model on the MNIST test set and generate
          visualizations.
        </p>
        <p>Available test options:</p>
        <ul>
          <li>
            <code>--model</code>: Specify which model to test (simple or cnn)
          </li>
          <li>
            <code>--visualize</code>: Generate visualizations of predictions
          </li>
          <li><code>--custom</code>: Test on a custom-drawn digit</li>
        </ul>
      </div>

      <div class="warning">
        <p>
          <strong>Important:</strong> For best results when drawing digits, they
          should be:
        </p>
        <ul>
          <li>Centered in the drawing area</li>
          <li>
            Large enough to fill a significant portion of the drawing area
          </li>
          <li>Written with a thick stroke</li>
          <li>Written on a contrasting background</li>
        </ul>
      </div>

      <a href="/" class="back-link">‚Üê Back to Drawing Canvas</a>
    </div>
  </body>
</html>
